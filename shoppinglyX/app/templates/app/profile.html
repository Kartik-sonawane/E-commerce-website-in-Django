{% extends 'app/base.html' %}
{% load static %}
{% block title %}Profile{% endblock title %}

{% block main-content %}

<div class="container mt-5">
 <div class="row ">

    <div class="col-sm-2 border-3 border-end">
      <h2 class ="text-center mb-5">{{request.user|capfirst}}</h2>

      <ul class="list-unstyled">
      <li class="d-grid mt-3 mb-4"><a href="{% url 'profile' %}" class="btn {{active}} py-2">Profile</a></li>
      <li class="d-grid"><a href="{% url 'address' %}" class="btn btn-outline-secondary py-2">Address</a></li>
      </ul>
    </div>

  <div class="col-sm-7 offset-sm-1">

    <!-- For message display  -->
    {% if messages %}
    {% for msg in messages %}
        <p {% if msg.tags %} class="alert alert-{{msg.tags}} mb-4" {% endif %}>
            {{msg}}
        </p>
    {% endfor %}
    {% endif %}

  <form action="" method="POST" novalidate class="shadow p-5">
      {% csrf_token %}

    {% for fm in form %}
      <div class="form-group mb-4">
        {{fm}} <small class="text-danger">{{fm.errors|striptags}}</small>
      </div>
    {% endfor %}

    <div class="d-flex justify-content-center">
      <button type="submit" class="btn btn-primary mt-3">Submit</button>
    </div>

    <!-- For errors display  -->
    
      {% if form.non_field_errors %}
        {% for error in form.non_field_errors %}
          <p class="alert alert-danger mt-4">{{error}}</p>
        {% endfor %}
      {% endif %} 
      
  </form>

  </div>
 </div>
</div>

{% endblock main-content %}